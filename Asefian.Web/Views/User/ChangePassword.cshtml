
@{
    ViewBag.Title = "تغییر رمزعبور";
}

@Html.Partial("_PageHeader")

<div class="uk-container">
    <div class="subheader">
        <ul class="uk-breadcrumb">
            <li><a href="/"><i class="fas fa-home"></i></a></li>
            <li><a href="/profile">اطلاعات کاربر</a></li>
            <li>تغییر رمزعبور</li>
        </ul>
    </div>

    <div class="content">
        <div id="main-page-container" class="uk-grid-small uk-child-width-1-1@s uk-child-width-1-2@m uk-child-width-1-3@l uk-flex-center" uk-grid>
            <form id="frmChangePassword" class="form" action="/api/v1/user/changePassword" method="post" data-success="saveComplete" loader="1">

                <div class="uk-margin">
                    <label class="uk-form-label" for="txtPassword">رمزعبور فعلی</label>
                    <div class="uk-form-controls">
                        <input id="txtPassword" class="uk-input" type="password" name="password" data-validate="required, minLength(6)" />
                    </div>
                </div>

                <div class="uk-margin">
                    <label class="uk-form-label" for="txtNewPassword">رمزعبور جدید</label>
                    <div class="uk-form-controls">
                        <input id="txtNewPassword" class="uk-input" type="password" name="newPassword" data-validate="required, minLength(6)" />
                    </div>
                </div>

                <div class="uk-margin">
                    <label class="uk-form-label" for="txtConfirmNewPassword">تکرار رمزعبور جدید</label>
                    <div class="uk-form-controls">
                        <input id="txtConfirmNewPassword" class="uk-input" type="password" name="confirmNewPassword" data-validate="required, minLength(6)" />
                    </div>
                </div>

                <div class="uk-margin">
                    <button id="btnSubmit" type="submit" class="uk-button uk-width-1-1 btn-site">ذخیره</button>
                </div>
            </form>
        </div>
    </div>
</div>

@section Scripts {
    <script type="text/javascript">
        $(document).ready(function () {
            $("#btnSubmit").on("click", function (event) {
                event.preventDefault();
                $("#frmChangePassword").makeRequest();
            });

        });

        function saveComplete(response) {
            alert(response.message);
            $("#frmChangePassword").clearEntity();
        }
    </script>
}